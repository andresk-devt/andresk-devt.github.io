/*!
  * vue-i18n-bridge v9.2.2
  * (c) 2022 kazuya kawaguchi
  * Released under the MIT License.
  */
import{ref as e,computed as a,watch as t,getCurrentInstance as n,h as l,effectScope as r,onBeforeMount as o,onUnmounted as s,shallowRef as i}from"vue-demi";const c="undefined"!=typeof window,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,m=e=>u?Symbol(e):e,f=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),_=e=>"number"==typeof e&&isFinite(e),g=e=>"[object RegExp]"===T(e),p=e=>R(e)&&0===Object.keys(e).length;function v(e,a){"undefined"!=typeof console&&(console.warn("[intlify] "+e),a&&console.warn(a.stack))}const b=Object.assign;function d(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const h=Object.prototype.hasOwnProperty;function k(e,a){return h.call(e,a)}const y=Array.isArray,E=e=>"function"==typeof e,L=e=>"string"==typeof e,N=e=>"boolean"==typeof e,F=e=>null!==e&&"object"==typeof e,I=Object.prototype.toString,T=e=>I.call(e),R=e=>"[object Object]"===T(e),O=15,W=[];W[0]={w:[0],i:[3,0],"[":[4],o:[7]},W[1]={w:[1],".":[2],"[":[4],o:[7]},W[2]={w:[2],i:[3,0],0:[3,0]},W[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},W[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},W[5]={"'":[4,0],o:8,l:[5,0]},W[6]={'"':[4,0],o:8,l:[6,0]};const w=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function M(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function D(e){const a=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(t=a,w.test(t)?function(e){const a=e.charCodeAt(0);return a!==e.charCodeAt(e.length-1)||34!==a&&39!==a?e:e.slice(1,-1)}(a):"*"+a);var t}const C=new Map;function A(e,a){return F(e)?e[a]:null}const P=e=>e,S=e=>"",$=e=>0===e.length?"":e.join(""),U=e=>null==e?"":y(e)||R(e)&&e.toString===I?JSON.stringify(e,null,2):String(e);function j(e,a){return e=Math.abs(e),2===a?e?e>1?1:0:1:e?Math.min(e,2):0}function V(e={}){const a=e.locale,t=function(e){const a=_(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(_(e.named.count)||_(e.named.n))?_(e.named.count)?e.named.count:_(e.named.n)?e.named.n:a:a}(e),n=F(e.pluralRules)&&L(a)&&E(e.pluralRules[a])?e.pluralRules[a]:j,l=F(e.pluralRules)&&L(a)&&E(e.pluralRules[a])?j:void 0,r=e.list||[],o=e.named||{};_(e.pluralIndex)&&function(e,a){a.count||(a.count=e),a.n||(a.n=e)}(t,o);function s(a){const t=E(e.messages)?e.messages(a):!!F(e.messages)&&e.messages[a];return t||(e.parent?e.parent.message(a):S)}const i=R(e.processor)&&E(e.processor.normalize)?e.processor.normalize:$,c=R(e.processor)&&E(e.processor.interpolate)?e.processor.interpolate:U,u={list:e=>r[e],named:e=>o[e],plural:e=>e[n(t,e.length,l)],linked:(a,...t)=>{const[n,l]=t;let r="text",o="";1===t.length?F(n)?(o=n.modifier||o,r=n.type||r):L(n)&&(o=n||o):2===t.length&&(L(n)&&(o=n||o),L(l)&&(r=l||r));let i=s(a)(u);return"vnode"===r&&y(i)&&o&&(i=i[0]),o?(c=o,e.modifiers?e.modifiers[c]:P)(i,r):i;var c},message:s,type:R(e.processor)&&L(e.processor.type)?e.processor.type:"text",interpolate:c,normalize:i};return u}function H(e,a,t){return[...new Set([t,...y(a)?a:F(a)?Object.keys(a):L(a)?[a]:[t]])]}function x(e,a,t){const n=L(t)?t:X,l=e;l.__localeChainCache||(l.__localeChainCache=new Map);let r=l.__localeChainCache.get(n);if(!r){r=[];let e=[t];for(;y(e);)e=G(r,e,a);const o=y(a)||!R(a)?a:a.default?a.default:null;e=L(o)?[o]:o,y(e)&&G(r,e,!1),l.__localeChainCache.set(n,r)}return r}function G(e,a,t){let n=!0;for(let l=0;l<a.length&&N(n);l++){const r=a[l];L(r)&&(n=B(e,a[l],t))}return n}function B(e,a,t){let n;const l=a.split("-");do{n=Y(e,l.join("-"),t),l.splice(-1,1)}while(l.length&&!0===n);return n}function Y(e,a,t){let n=!1;if(!e.includes(a)&&(n=!0,a)){n="!"!==a[a.length-1];const l=a.replace(/!/g,"");e.push(l),(y(t)||R(t))&&t[l]&&(n=t[l])}return n}const X="en-US",z=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let J,q;let Z=0;function K(e={}){const a=L(e.version)?e.version:"9.2.2",t=L(e.locale)?e.locale:X,n=y(e.fallbackLocale)||R(e.fallbackLocale)||L(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,l=R(e.messages)?e.messages:{[t]:{}},r=R(e.datetimeFormats)?e.datetimeFormats:{[t]:{}},o=R(e.numberFormats)?e.numberFormats:{[t]:{}},s=b({},e.modifiers||{},{upper:(e,a)=>"text"===a&&L(e)?e.toUpperCase():"vnode"===a&&F(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,a)=>"text"===a&&L(e)?e.toLowerCase():"vnode"===a&&F(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,a)=>"text"===a&&L(e)?z(e):"vnode"===a&&F(e)&&"__v_isVNode"in e?z(e.children):e}),i=e.pluralRules||{},c=E(e.missing)?e.missing:null,u=!N(e.missingWarn)&&!g(e.missingWarn)||e.missingWarn,m=!N(e.fallbackWarn)&&!g(e.fallbackWarn)||e.fallbackWarn,f=!!e.fallbackFormat,_=!!e.unresolving,p=E(e.postTranslation)?e.postTranslation:null,d=R(e.processor)?e.processor:null,h=!N(e.warnHtmlMessage)||e.warnHtmlMessage,k=!!e.escapeParameter,I=E(e.messageCompiler)?e.messageCompiler:undefined,T=E(e.messageResolver)?e.messageResolver:J||A,O=E(e.localeFallbacker)?e.localeFallbacker:q||H,W=F(e.fallbackContext)?e.fallbackContext:void 0,w=E(e.onWarn)?e.onWarn:v,M=e,D=F(M.__datetimeFormatters)?M.__datetimeFormatters:new Map,C=F(M.__numberFormatters)?M.__numberFormatters:new Map,P=F(M.__meta)?M.__meta:{};Z++;const S={version:a,cid:Z,locale:t,fallbackLocale:n,messages:l,modifiers:s,pluralRules:i,missing:c,missingWarn:u,fallbackWarn:m,fallbackFormat:f,unresolving:_,postTranslation:p,processor:d,warnHtmlMessage:h,escapeParameter:k,messageCompiler:I,messageResolver:T,localeFallbacker:O,fallbackContext:W,onWarn:w,__meta:P};return S.datetimeFormats=r,S.numberFormats=o,S.__datetimeFormatters=D,S.__numberFormatters=C,S}function Q(e,a,t,n,l){const{missing:r,onWarn:o}=e;if(null!==r){const n=r(e,t,a,l);return L(n)?n:a}return a}function ee(e,a,t){e.__localeChainCache=new Map,e.localeFallbacker(e,t,a)}let ae=O;const te=()=>++ae,ne={INVALID_ARGUMENT:ae,INVALID_DATE_ARGUMENT:te(),INVALID_ISO_DATE_ARGUMENT:te(),__EXTEND_POINT__:te()},le=()=>"",re=e=>E(e);function oe(e,...a){const{fallbackFormat:t,postTranslation:n,unresolving:l,messageCompiler:r,fallbackLocale:o,messages:s}=e,[i,c]=ce(...a),u=N(c.missingWarn)?c.missingWarn:e.missingWarn,m=N(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=N(c.escapeParameter)?c.escapeParameter:e.escapeParameter,g=!!c.resolvedMessage,p=L(c.default)||N(c.default)?N(c.default)?r?i:()=>i:c.default:t?r?i:()=>i:"",v=t||""!==p,b=L(c.locale)?c.locale:e.locale;f&&function(e){y(e.list)?e.list=e.list.map((e=>L(e)?d(e):e)):F(e.named)&&Object.keys(e.named).forEach((a=>{L(e.named[a])&&(e.named[a]=d(e.named[a]))}))}(c);let[h,k,E]=g?[i,b,s[b]||{}]:se(e,i,b,o,m,u),I=h,T=i;if(g||L(I)||re(I)||v&&(I=p,T=I),!(g||(L(I)||re(I))&&L(k)))return l?-1:i;let R=!1;const O=re(I)?I:ie(e,i,k,I,T,(()=>{R=!0}));if(R)return I;const W=function(e,a,t,n){const{modifiers:l,pluralRules:r,messageResolver:o,fallbackLocale:s,fallbackWarn:i,missingWarn:c,fallbackContext:u}=e,m=n=>{let l=o(t,n);if(null==l&&u){const[,,e]=se(u,n,a,s,i,c);l=o(e,n)}if(L(l)){let t=!1;const r=ie(e,n,a,l,n,(()=>{t=!0}));return t?le:r}return re(l)?l:le},f={locale:a,modifiers:l,pluralRules:r,messages:m};e.processor&&(f.processor=e.processor);n.list&&(f.list=n.list);n.named&&(f.named=n.named);_(n.plural)&&(f.pluralIndex=n.plural);return f}(e,k,E,c),w=function(e,a,t){return a(t)}(0,O,V(W));return n?n(w,i):w}function se(e,a,t,n,l,r){const{messages:o,onWarn:s,messageResolver:i,localeFallbacker:c}=e,u=c(e,n,t);let m,f={},_=null;for(let t=0;t<u.length&&(m=u[t],f=o[m]||{},null===(_=i(f,a))&&(_=f[a]),!L(_)&&!E(_));t++){const t=Q(e,a,m,0,"translate");t!==a&&(_=t)}return[_,m,f]}function ie(e,a,t,n,l,r){const{messageCompiler:o,warnHtmlMessage:s}=e;if(re(n)){const e=n;return e.locale=e.locale||t,e.key=e.key||a,e}if(null==o){const e=()=>n;return e.locale=t,e.key=a,e}const i=o(n,function(e,a,t,n,l,r){return{warnHtmlMessage:l,onError:e=>{throw r&&r(e),e},onCacheKey:e=>((e,a,t)=>f({l:e,k:a,s:t}))(a,t,e)}}(0,t,l,0,s,r));return i.locale=t,i.key=a,i.source=n,i}function ce(...e){const[a,t,n]=e,l={};if(!L(a)&&!_(a)&&!re(a))throw Error(ne.INVALID_ARGUMENT);const r=_(a)?String(a):(re(a),a);return _(t)?l.plural=t:L(t)?l.default=t:R(t)&&!p(t)?l.named=t:y(t)&&(l.list=t),_(n)?l.plural=n:L(n)?l.default=n:R(n)&&b(l,n),[r,l]}function ue(e,...a){const{datetimeFormats:t,unresolving:n,fallbackLocale:l,onWarn:r,localeFallbacker:o}=e,{__datetimeFormatters:s}=e,[i,c,u,m]=fe(...a);N(u.missingWarn)?u.missingWarn:e.missingWarn;N(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const f=!!u.part,_=L(u.locale)?u.locale:e.locale,g=o(e,l,_);if(!L(i)||""===i)return new Intl.DateTimeFormat(_,m).format(c);let v,d={},h=null;for(let a=0;a<g.length&&(v=g[a],d=t[v]||{},h=d[i],!R(h));a++)Q(e,i,v,0,"datetime format");if(!R(h)||!L(v))return n?-1:i;let k=`${v}__${i}`;p(m)||(k=`${k}__${JSON.stringify(m)}`);let y=s.get(k);return y||(y=new Intl.DateTimeFormat(v,b({},h,m)),s.set(k,y)),f?y.formatToParts(c):y.format(c)}const me=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function fe(...e){const[a,t,n,l]=e,r={};let o,s={};if(L(a)){const e=a.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw Error(ne.INVALID_ISO_DATE_ARGUMENT);const t=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();o=new Date(t);try{o.toISOString()}catch(e){throw Error(ne.INVALID_ISO_DATE_ARGUMENT)}}else if("[object Date]"===T(a)){if(isNaN(a.getTime()))throw Error(ne.INVALID_DATE_ARGUMENT);o=a}else{if(!_(a))throw Error(ne.INVALID_ARGUMENT);o=a}return L(t)?r.key=t:R(t)&&Object.keys(t).forEach((e=>{me.includes(e)?s[e]=t[e]:r[e]=t[e]})),L(n)?r.locale=n:R(n)&&(s=n),R(l)&&(s=l),[r.key||"",o,r,s]}function _e(e,a,t){const n=e;for(const e in t){const t=`${a}__${e}`;n.__datetimeFormatters.has(t)&&n.__datetimeFormatters.delete(t)}}function ge(e,...a){const{numberFormats:t,unresolving:n,fallbackLocale:l,onWarn:r,localeFallbacker:o}=e,{__numberFormatters:s}=e,[i,c,u,m]=ve(...a);N(u.missingWarn)?u.missingWarn:e.missingWarn;N(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const f=!!u.part,_=L(u.locale)?u.locale:e.locale,g=o(e,l,_);if(!L(i)||""===i)return new Intl.NumberFormat(_,m).format(c);let v,d={},h=null;for(let a=0;a<g.length&&(v=g[a],d=t[v]||{},h=d[i],!R(h));a++)Q(e,i,v,0,"number format");if(!R(h)||!L(v))return n?-1:i;let k=`${v}__${i}`;p(m)||(k=`${k}__${JSON.stringify(m)}`);let y=s.get(k);return y||(y=new Intl.NumberFormat(v,b({},h,m)),s.set(k,y)),f?y.formatToParts(c):y.format(c)}const pe=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ve(...e){const[a,t,n,l]=e,r={};let o={};if(!_(a))throw Error(ne.INVALID_ARGUMENT);const s=a;return L(t)?r.key=t:R(t)&&Object.keys(t).forEach((e=>{pe.includes(e)?o[e]=t[e]:r[e]=t[e]})),L(n)?r.locale=n:R(n)&&(o=n),R(l)&&(o=l),[r.key||"",s,r,o]}function be(e,a,t){const n=e;for(const e in t){const t=`${a}__${e}`;n.__numberFormatters.has(t)&&n.__numberFormatters.delete(t)}}const de="9.2.2";let he=O;const ke=()=>++he,ye={UNEXPECTED_RETURN_TYPE:he,INVALID_ARGUMENT:ke(),MUST_BE_CALL_SETUP_TOP:ke(),NOT_INSLALLED:ke(),NOT_AVAILABLE_IN_LEGACY_MODE:ke(),REQUIRED_VALUE:ke(),INVALID_VALUE:ke(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ke(),NOT_INSLALLED_WITH_PROVIDE:ke(),UNEXPECTED_ERROR:ke(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ke(),BRIDGE_SUPPORT_VUE_2_ONLY:ke(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ke(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ke(),__EXTEND_POINT__:ke()},Ee=m("__transrateVNode"),Le=m("__datetimeParts"),Ne=m("__numberParts"),Fe=m("__setPluralRules"),Ie=m("__legacyVueI18n"),Te=m("__injectWithOption");function Re(e){return null!=e&&null!=e.version&&(Number(e.version.split(".")[0])||-1)>=8}function Oe(e){if(!F(e))return e;for(const a in e)if(k(e,a))if(a.includes(".")){const t=a.split("."),n=t.length-1;let l=e;for(let e=0;e<n;e++)t[e]in l||(l[t[e]]={}),l=l[t[e]];l[t[n]]=e[a],delete e[a],F(l[t[n]])&&Oe(l[t[n]])}else F(e[a])&&Oe(e[a]);return e}function We(e,a){const{messages:t,__i18n:n,messageResolver:l,flatJson:r}=a,o=R(t)?t:y(n)?{}:{[e]:{}};if(y(n)&&n.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:a,resource:t}=e;a?(o[a]=o[a]||{},Me(t,o[a])):Me(t,o)}else L(e)&&Me(JSON.parse(e),o)})),null==l&&r)for(const e in o)k(o,e)&&Oe(o[e]);return o}const we=e=>!F(e)||y(e);function Me(e,a){if(we(e)||we(a))throw Error(ye.INVALID_VALUE);for(const t in e)k(e,t)&&(we(e[t])||we(a[t])?a[t]=e[t]:Me(e[t],a[t]))}function De(e){return function(e){const a=void 0;return{tag:void 0,data:void 0,children:void 0,text:e,elm:void 0,ns:void 0,context:void 0,fnContext:void 0,fnOptions:void 0,fnScopeId:void 0,key:void 0,componentOptions:void 0,componentInstance:a,parent:void 0,raw:!1,isStatic:!1,isRootInsert:!0,isComment:!1,isCloned:!1,isOnce:!1,asyncFactory:void 0,asyncMeta:void 0,isAsyncPlaceholder:!1,child:()=>a}}(e)}let Ce=0;function Ae(e){return(a,t,l,r)=>e(t,l,n()||void 0,r)}function Pe(n={},l){const{__root:r}=n,o=void 0===r;let s=!N(n.inheritLocale)||n.inheritLocale;const i=e(r&&s?r.locale.value:L(n.locale)?n.locale:X),u=e(r&&s?r.fallbackLocale.value:L(n.fallbackLocale)||y(n.fallbackLocale)||R(n.fallbackLocale)||!1===n.fallbackLocale?n.fallbackLocale:i.value),m=e(We(i.value,n)),f=e(R(n.datetimeFormats)?n.datetimeFormats:{[i.value]:{}}),p=e(R(n.numberFormats)?n.numberFormats:{[i.value]:{}});let v=r?r.missingWarn:!N(n.missingWarn)&&!g(n.missingWarn)||n.missingWarn,d=r?r.fallbackWarn:!N(n.fallbackWarn)&&!g(n.fallbackWarn)||n.fallbackWarn,h=r?r.fallbackRoot:!N(n.fallbackRoot)||n.fallbackRoot,k=!!n.fallbackFormat,I=E(n.missing)?n.missing:null,T=E(n.missing)?Ae(n.missing):null,O=E(n.postTranslation)?n.postTranslation:null,W=r?r.warnHtmlMessage:!N(n.warnHtmlMessage)||n.warnHtmlMessage,w=!!n.escapeParameter;const M=r?r.modifiers:R(n.modifiers)?n.modifiers:{};let D,C,A=n.pluralRules||r&&r.pluralRules;{Re(l);const e={locale:i.value,fallbackLocale:u.value,messages:m.value,dateTimeFormats:f.value,numberFormats:p.value,modifiers:M,missing:I,fallbackRoot:h,postTranslation:O,pluralizationRules:A,escapeParameterHtml:w,sync:s,silentFallbackWarn:N(d)?!d:d,silentTranslationWarn:N(v)?!v:v,formatFallbackMessages:N(k)?!k:k,warnHtmlInMessage:N(W)&&W?"warn":"off",__VUE_I18N_BRIDGE__:"__VUE_I18N_BRIDGE__"};D=new l(e)}C=(()=>{const e={version:"9.2.2",locale:i.value,fallbackLocale:u.value,messages:m.value,modifiers:M,pluralRules:A,missing:null===T?void 0:T,missingWarn:v,fallbackWarn:d,fallbackFormat:k,unresolving:!0,postTranslation:null===O?void 0:O,warnHtmlMessage:W,escapeParameter:w,messageResolver:n.messageResolver,__meta:{framework:"vue"}};e.datetimeFormats=f.value,e.numberFormats=p.value,e.__datetimeFormatters=R(C)?C.__datetimeFormatters:void 0,e.__numberFormatters=R(C)?C.__numberFormatters:void 0;return K(e)})(),ee(C,i.value,u.value);const P=a({get:()=>i.value,set:e=>{i.value=e,D&&!o&&(D.locale=e),C.locale=i.value}}),S=a({get:()=>u.value,set:e=>{u.value=e,D&&!o&&(D.fallbackLocale=e),C.fallbackLocale=u.value,ee(C,i.value,e)}}),$=a((()=>m.value)),U=a((()=>f.value)),j=a((()=>p.value));const V=(e,a,t,n,l,o)=>{let s;if(i.value,u.value,m.value,f.value,p.value,s=e(C),_(s)&&-1===s){const[e,t]=a();return r&&h?n(r):l(e)}if(o(s))return s;throw Error(ye.UNEXPECTED_RETURN_TYPE)};function H(...e){return V((a=>Reflect.apply(oe,null,[a,...e])),(()=>ce(...e)),0,(a=>Reflect.apply(a.t,a,[...e])),(e=>e),(e=>L(e)))}const G={normalize:function(e){return e.map((e=>L(e)||_(e)||N(e)?De(String(e)):e))},interpolate:e=>e,type:"vnode"};function B(e){return m.value[e]||{}}Ce++,r&&c&&(t(r.locale,(e=>{s&&(i.value=e,D&&!o&&(D.locale=e),C.locale=e,ee(C,i.value,u.value))})),t(r.fallbackLocale,(e=>{s&&(u.value=e,D&&!o&&(D.fallbackLocale=e),C.fallbackLocale=e,ee(C,i.value,u.value))})));const Y={id:Ce,locale:P,fallbackLocale:S,get inheritLocale(){return s},set inheritLocale(e){s=e,D&&(D._sync=e),e&&r&&(i.value=r.locale.value,u.value=r.fallbackLocale.value,D&&(D.locale=r.locale.value,D.fallbackLocale=r.fallbackLocale.value),ee(C,i.value,u.value))},get availableLocales(){return Object.keys(m.value).sort()},messages:$,get modifiers(){return M},get pluralRules(){return A||{}},get isGlobal(){return o},get missingWarn(){return v},set missingWarn(e){v=e,C.missingWarn=v},get fallbackWarn(){return d},set fallbackWarn(e){d=e,C.fallbackWarn=d},get fallbackRoot(){return h},set fallbackRoot(e){h=e},get fallbackFormat(){return k},set fallbackFormat(e){k=e,C.fallbackFormat=k},get warnHtmlMessage(){return W},set warnHtmlMessage(e){W=e,C.warnHtmlMessage=e},get escapeParameter(){return w},set escapeParameter(e){w=e,C.escapeParameter=e},t:H,getLocaleMessage:B,setLocaleMessage:function(e,a){m.value[e]=a,D&&D.setLocaleMessage(e,a),C.messages=m.value},mergeLocaleMessage:function(e,a){m.value[e]=m.value[e]||{},D&&D.mergeLocaleMessage(e,a),Me(a,m.value[e]),C.messages=m.value},getPostTranslationHandler:function(){return E(O)?O:null},setPostTranslationHandler:function(e){O=e,C.postTranslation=e},getMissingHandler:function(){return I},setMissingHandler:function(e){null!==e&&(T=Ae(e)),I=e,C.missing=T},[Fe]:function(e){A=e,C.pluralRules=A}};return Y.datetimeFormats=U,Y.numberFormats=j,Y.rt=function(...e){const[a,t,n]=e;if(n&&!F(n))throw Error(ye.INVALID_ARGUMENT);return H(a,t,b({resolvedMessage:!0},n||{}))},Y.te=function(e,a){const t=B(L(a)?a:i.value);return null!==C.messageResolver(t,e)},Y.tm=function(e){const a=function(e){let a=null;const t=x(C,u.value,i.value);for(let n=0;n<t.length;n++){const l=m.value[t[n]]||{},r=C.messageResolver(l,e);if(null!=r){a=r;break}}return a}(e);return null!=a?a:r&&r.tm(e)||{}},Y.d=function(...e){return V((a=>Reflect.apply(ue,null,[a,...e])),(()=>fe(...e)),0,(a=>Reflect.apply(a.d,a,[...e])),(()=>""),(e=>L(e)))},Y.n=function(...e){return V((a=>Reflect.apply(ge,null,[a,...e])),(()=>ve(...e)),0,(a=>Reflect.apply(a.n,a,[...e])),(()=>""),(e=>L(e)))},Y.getDateTimeFormat=function(e){return f.value[e]||{}},Y.setDateTimeFormat=function(e,a){f.value[e]=a,D&&D.setDateTimeFormat(e,a),C.datetimeFormats=f.value,_e(C,e,a)},Y.mergeDateTimeFormat=function(e,a){f.value[e]=b(f.value[e]||{},a),D&&D.mergeDateTimeFormat(e,a),C.datetimeFormats=f.value,_e(C,e,a)},Y.getNumberFormat=function(e){return p.value[e]||{}},Y.setNumberFormat=function(e,a){p.value[e]=a,D&&D.setNumberFormat(e,a),C.numberFormats=p.value,be(C,e,a)},Y.mergeNumberFormat=function(e,a){p.value[e]=b(p.value[e]||{},a),D&&D.mergeNumberFormat(e,a),C.numberFormats=p.value,be(C,e,a)},Y[Te]=n.__injectWithOption,Y[Ee]=function(...e){return V((a=>{let t;const n=a;try{n.processor=G,t=Reflect.apply(oe,null,[n,...e])}finally{n.processor=null}return t}),(()=>ce(...e)),0,(a=>a[Ee](...e)),(e=>[De(e)]),(e=>y(e)))},Y[Le]=function(...e){return V((a=>Reflect.apply(ue,null,[a,...e])),(()=>fe(...e)),0,(a=>a[Le](...e)),(()=>[]),(e=>L(e)||y(e)))},Y[Ne]=function(...e){return V((a=>Reflect.apply(ge,null,[a,...e])),(()=>ve(...e)),0,(a=>a[Ne](...e)),(()=>[]),(e=>L(e)||y(e)))},Y[Ie]=D,Y}const Se={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};const $e={name:"i18n-t",props:b({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>_(e)||!isNaN(e)}},Se),setup(e,a){const{slots:t,attrs:n}=a,r=e.i18n||Be({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(t).filter((e=>"_"!==e)),s={};e.locale&&(s.locale=e.locale),void 0!==e.plural&&(s.plural=L(e.plural)?+e.plural:e.plural);const i=function({slots:e},a){if(1===a.length&&"default"===a[0])return(e.default?e.default():[]).reduce(((e,a)=>[...e,...y(a.children)?a.children:[a]]),[]);return a.reduce(((a,t)=>{const n=e[t];return n&&(a[t]=n()),a}),{})}(a,o),c=r[Ee](e.keypath,i,s),u=b({},n),m=L(e.tag)||F(e.tag)?e.tag:"span";return l(m,u,c)}}};function Ue(e,a,t,n){const{slots:r,attrs:o}=a;return()=>{const a={part:!0};let s={};e.locale&&(a.locale=e.locale),L(e.format)?a.key=e.format:F(e.format)&&(L(e.format.key)&&(a.key=e.format.key),s=Object.keys(e.format).reduce(((a,n)=>t.includes(n)?b({},a,{[n]:e.format[n]}):a),{}));const i=n(e.value,a,s);let c=[a.key];y(i)?c=i.map(((e,a)=>{const t=r[e.type],n=t?t({[e.type]:e.value,index:a,parts:i}):[e.value];var l;return y(l=n)&&!L(l[0])&&(n[0].key=`${e.type}-${a}`),n})):L(i)&&(c=[i]);const u=b({},o),m=L(e.tag)||F(e.tag)?e.tag:"span";return l(m,u,c)}}const je={name:"i18n-n",props:b({value:{type:Number,required:!0},format:{type:[String,Object]}},Se),setup(e,a){const t=e.i18n||Be({useScope:"parent",__useComponent:!0});return Ue(e,a,pe,((...e)=>t[Ne](...e)))}},Ve={name:"i18n-d",props:b({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Se),setup(e,a){const t=e.i18n||Be({useScope:"parent",__useComponent:!0});return Ue(e,a,me,((...e)=>t[Le](...e)))}};let He=null;const xe=m("global-vue-i18n");function Ge(e={},a){He=a;const t=!N(e.legacy)||e.legacy,n=!N(e.globalInjection)||e.globalInjection,l=!t||!!e.allowComposition,o=new Map,[s,i]=function(e,a,t){const n=r();{if(!Re(t))throw Error(ye.NOT_COMPATIBLE_LEGACY_VUE_I18N);const a=n.run((()=>Pe(e,t)));if(null==a)throw Error(ye.UNEXPECTED_ERROR);return[n,a]}}(e,0,a);m("");{const e=i[Ie];let a=null;Object.defineProperty(e,"global",{get:()=>i}),Object.defineProperty(e,"mode",{get:()=>t?"legacy":"composition"}),Object.defineProperty(e,"allowComposition",{get:()=>l}),Object.defineProperty(e,"__instances",{get:()=>o}),Object.defineProperty(e,"install",{writable:!0,value:(l,...r)=>{if(2!==(l&&l.version&&Number(l.version.split(".")[0])||-1))throw Error(ye.BRIDGE_SUPPORT_VUE_2_ONLY);!function(e,...a){const t=R(a[0])?a[0]:{};(!N(t.globalInstall)||t.globalInstall)&&(e.component($e.name,$e),e.component(je.name,je),e.component(Ve.name,Ve))}(l,...r),!t&&n&&(a=function(e,a,t){const n=a.watchLocale(t);return e.prototype.$t=function(...e){return Reflect.apply(t.t,t,[...e])},e.prototype.$d=function(...e){return Reflect.apply(t.d,t,[...e])},e.prototype.$n=function(...e){return Reflect.apply(t.n,t,[...e])},n}(l,e,i)),l.mixin(function(e,a){return{beforeCreate(){const t=this.$options;if(!t.__VUE18N__INSTANCE__)if(t.i18n=t.i18n||(t.__i18nBridge?{}:null),this._i18nBridgeRoot=e,"composition"!==e.mode)if(t.i18n){if(t.i18n instanceof a){if(t.__i18nBridge)try{const e=t.i18n&&t.i18n.messages?t.i18n.messages:{};t.__i18nBridge.forEach((a=>Me(JSON.parse(a),e))),Object.keys(e).forEach((a=>{t.i18n.mergeLocaleMessage(a,e[a])}))}catch(e){}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(R(t.i18n)){const e=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof a?this.$root.$i18n:null;if(e&&(t.i18n.root=this.$root,t.i18n.formatter=e.formatter,t.i18n.fallbackLocale=e.fallbackLocale,t.i18n.formatFallbackMessages=e.formatFallbackMessages,t.i18n.silentTranslationWarn=e.silentTranslationWarn,t.i18n.silentFallbackWarn=e.silentFallbackWarn,t.i18n.pluralizationRules=e.pluralizationRules,t.i18n.preserveDirectiveContent=e.preserveDirectiveContent),t.__i18nBridge)try{const e=t.i18n&&t.i18n.messages?t.i18n.messages:{};t.__i18nBridge.forEach((a=>Me(JSON.parse(a),e))),t.i18n.messages=e}catch(e){}const{sharedMessages:n}=t.i18n;n&&R(n)&&Me(n,t.i18n.messages),this._i18n=new a(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),e&&e.onComponentInstanceCreated(this._i18n)}}else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof a?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof a&&(this._i18n=t.parent.$i18n);else this._i18n=e},beforeMount(){const t=this.$options;t.__VUE18N__INSTANCE__||"composition"!==e.mode&&(t.i18n=t.i18n||(t.__i18nBridge?{}:null),t.i18n?(t.i18n instanceof a||R(t.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof a||t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof a)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0))},beforeDestroy(){if(this.$options.__VUE18N__INSTANCE__)return;if(this._i18nBridgeRoot)return void delete this._i18nBridgeRoot;if("composition"===e.mode)return void delete this._i18n;if(!this._i18n)return;const a=this;this.$nextTick((()=>{a._subscribing&&(a._i18n.unsubscribeDataChanging(a),delete a._subscribing),a._i18nWatcher&&(a._i18nWatcher(),a._i18n.destroyVM(),delete a._i18nWatcher),a._localeWatcher&&(a._localeWatcher(),delete a._localeWatcher)}))}}}(e,He))}}),Object.defineProperty(e,"dispose",{value:()=>{a&&a(),s.stop()}});const r={__getInstance:function(e){return o.get(e)||null},__setInstance:function(e,a){o.set(e,a)},__deleteInstance:function(e){o.delete(e)}};return Object.keys(r).forEach((a=>Object.defineProperty(e,a,{value:r[a]}))),e}}function Be(t={}){const l=n();if(null==l)throw Error(ye.MUST_BE_CALL_SETUP_TOP);if(null==He)throw Error(ye.NOT_INSLALLED);const r=function(e){{const a=e.proxy;if(null==a)throw Error(ye.UNEXPECTED_ERROR);const t=a._i18nBridgeRoot;if(!t)throw Error(ye.NOT_INSLALLED);return t}}(l),u=function(e){return e.global}(r),m=function(e){return e.proxy.$options}(l),f=function(e,a){return p(e)?"__i18n"in a?"local":"global":e.useScope?e.useScope:"local"}(t,m);if("legacy"===r.mode&&!t.__useComponent){if(!r.allowComposition)throw Error(ye.NOT_AVAILABLE_IN_LEGACY_MODE);return function(t,n,l,r={}){const s="local"===n,c=i(null);if(s&&t.proxy&&!t.proxy.$options.i18n&&!t.proxy.$options.__i18n)throw Error(ye.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const u=!N(r.inheritLocale)||r.inheritLocale,m=e(s&&u?l.locale.value:L(r.locale)?r.locale:X),f=e(s&&u?l.fallbackLocale.value:L(r.fallbackLocale)||y(r.fallbackLocale)||R(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:m.value),_=e(We(m.value,r)),p=e(R(r.datetimeFormats)?r.datetimeFormats:{[m.value]:{}}),v=e(R(r.numberFormats)?r.numberFormats:{[m.value]:{}}),b=s?l.missingWarn:!N(r.missingWarn)&&!g(r.missingWarn)||r.missingWarn,d=s?l.fallbackWarn:!N(r.fallbackWarn)&&!g(r.fallbackWarn)||r.fallbackWarn,h=s?l.fallbackRoot:!N(r.fallbackRoot)||r.fallbackRoot,k=!!r.fallbackFormat,F=E(r.missing)?r.missing:null,I=E(r.postTranslation)?r.postTranslation:null,T=s?l.warnHtmlMessage:!N(r.warnHtmlMessage)||r.warnHtmlMessage,O=!!r.escapeParameter,W=s?l.modifiers:R(r.modifiers)?r.modifiers:{},w=r.pluralRules||s&&l.pluralRules;function M(){return[m.value,f.value,_.value,p.value,v.value]}const D=a({get:()=>c.value?c.value.locale.value:m.value,set:e=>{c.value&&(c.value.locale.value=e),m.value=e}}),C=a({get:()=>c.value?c.value.fallbackLocale.value:f.value,set:e=>{c.value&&(c.value.fallbackLocale.value=e),f.value=e}}),A=a((()=>c.value?c.value.messages.value:_.value)),P=a((()=>p.value)),S=a((()=>v.value));function $(){return c.value?c.value.getPostTranslationHandler():I}function U(e){c.value&&c.value.setPostTranslationHandler(e)}function j(){return c.value?c.value.getMissingHandler():F}function V(e){c.value&&c.value.setMissingHandler(e)}function H(e){return M(),e()}function x(...e){return c.value?H((()=>Reflect.apply(c.value.t,null,[...e]))):H((()=>""))}function G(...e){return c.value?Reflect.apply(c.value.rt,null,[...e]):""}function B(...e){return c.value?H((()=>Reflect.apply(c.value.d,null,[...e]))):H((()=>""))}function Y(...e){return c.value?H((()=>Reflect.apply(c.value.n,null,[...e]))):H((()=>""))}function z(e){return c.value?c.value.tm(e):{}}function J(e,a){return!!c.value&&c.value.te(e,a)}function q(e){return c.value?c.value.getLocaleMessage(e):{}}function Z(e,a){c.value&&(c.value.setLocaleMessage(e,a),_.value[e]=a)}function K(e,a){c.value&&c.value.mergeLocaleMessage(e,a)}function Q(e){return c.value?c.value.getDateTimeFormat(e):{}}function ee(e,a){c.value&&(c.value.setDateTimeFormat(e,a),p.value[e]=a)}function ae(e,a){c.value&&c.value.mergeDateTimeFormat(e,a)}function te(e){return c.value?c.value.getNumberFormat(e):{}}function ne(e,a){c.value&&(c.value.setNumberFormat(e,a),v.value[e]=a)}function le(e,a){c.value&&c.value.mergeNumberFormat(e,a)}const re={get id(){return c.value?c.value.id:-1},locale:D,fallbackLocale:C,messages:A,datetimeFormats:P,numberFormats:S,get inheritLocale(){return c.value?c.value.inheritLocale:u},set inheritLocale(e){c.value&&(c.value.inheritLocale=e)},get availableLocales(){return c.value?c.value.availableLocales:Object.keys(_.value)},get modifiers(){return c.value?c.value.modifiers:W},get pluralRules(){return c.value?c.value.pluralRules:w},get isGlobal(){return!!c.value&&c.value.isGlobal},get missingWarn(){return c.value?c.value.missingWarn:b},set missingWarn(e){c.value&&(c.value.missingWarn=e)},get fallbackWarn(){return c.value?c.value.fallbackWarn:d},set fallbackWarn(e){c.value&&(c.value.missingWarn=e)},get fallbackRoot(){return c.value?c.value.fallbackRoot:h},set fallbackRoot(e){c.value&&(c.value.fallbackRoot=e)},get fallbackFormat(){return c.value?c.value.fallbackFormat:k},set fallbackFormat(e){c.value&&(c.value.fallbackFormat=e)},get warnHtmlMessage(){return c.value?c.value.warnHtmlMessage:T},set warnHtmlMessage(e){c.value&&(c.value.warnHtmlMessage=e)},get escapeParameter(){return c.value?c.value.escapeParameter:O},set escapeParameter(e){c.value&&(c.value.escapeParameter=e)},t:x,getPostTranslationHandler:$,setPostTranslationHandler:U,getMissingHandler:j,setMissingHandler:V,rt:G,d:B,n:Y,tm:z,te:J,getLocaleMessage:q,setLocaleMessage:Z,mergeLocaleMessage:K,getDateTimeFormat:Q,setDateTimeFormat:ee,mergeDateTimeFormat:ae,getNumberFormat:te,setNumberFormat:ne,mergeNumberFormat:le};function oe(e){e.locale.value=m.value,e.fallbackLocale.value=f.value,Object.keys(_.value).forEach((a=>{e.mergeLocaleMessage(a,_.value[a])})),Object.keys(p.value).forEach((a=>{e.mergeDateTimeFormat(a,p.value[a])})),Object.keys(v.value).forEach((a=>{e.mergeNumberFormat(a,v.value[a])})),e.escapeParameter=O,e.fallbackFormat=k,e.fallbackRoot=h,e.fallbackWarn=d,e.missingWarn=b,e.warnHtmlMessage=T}return o((()=>{if(null==t.proxy||null==t.proxy.$i18n)throw Error(ye.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const e=c.value=t.proxy.$i18n.__composer;"global"===n?(m.value=e.locale.value,f.value=e.fallbackLocale.value,_.value=e.messages.value,p.value=e.datetimeFormats.value,v.value=e.numberFormats.value):s&&oe(e)})),re}(l,f,u,t)}if("global"===f)return function(e,a,t){let n=F(a.messages)?a.messages:{};"__i18nGlobal"in t&&(n=We(e.locale.value,{messages:n,__i18n:t.__i18nGlobal}));const l=Object.keys(n);if(l.length&&l.forEach((a=>{e.mergeLocaleMessage(a,n[a])})),F(a.datetimeFormats)){const t=Object.keys(a.datetimeFormats);t.length&&t.forEach((t=>{e.mergeDateTimeFormat(t,a.datetimeFormats[t])}))}if(F(a.numberFormats)){const t=Object.keys(a.numberFormats);t.length&&t.forEach((t=>{e.mergeNumberFormat(t,a.numberFormats[t])}))}}(u,t,m),u;if("parent"===f){let e=function(e,a,t=!1){let n=null;const l=a.root;let r=a.parent;for(;null!=r;){const a=e;if("composition"===e.mode)n=a.__getInstance(r);else{const e=a.__getInstance(r);null!=e&&(n=e.__composer,t&&n&&!n[Te]&&(n=null))}if(null!=n)break;if(l===r)break;r=r.parent}return n}(r,l,t.__useComponent);return null==e&&(e=u),e}const _=r;let v=_.__getInstance(l);if(null==v){const e=b({},t);"__i18n"in m&&(e.__i18n=m.__i18n),u&&(e.__root=u),v=Pe(e,He),function(e,a,t){{const n=a.proxy;if(null==n)throw Error(ye.UNEXPECTED_ERROR);const l=t[Ie];if(l===e)throw Error(ye.UNEXPECTED_ERROR);n._i18n=l,n._i18n_bridge=!0,c&&(n._i18nWatcher=n._i18n.watchI18nData(),n._i18n._sync&&(n._localeWatcher=n._i18n.watchLocale()));let r=!1;o((()=>{n._i18n.subscribeDataChanging(n),r=!0})),s((()=>{r&&(n._i18n.unsubscribeDataChanging(n),r=!1),n._i18nWatcher&&(n._i18nWatcher(),n._i18n.destroyVM(),delete n._i18nWatcher),n._localeWatcher&&(n._localeWatcher(),delete n._localeWatcher),delete n._i18n_bridge,delete n._i18n}))}}(_,l,v),_.__setInstance(l,v)}return v}const Ye=e=>{if(!("__VUE_I18N_BRIDGE__"in e))throw Error(ye.NOT_COMPATIBLE_LEGACY_VUE_I18N);return e};J=function(e,a){if(!F(e))return null;let t=C.get(a);if(t||(t=function(e){const a=[];let t,n,l,r,o,s,i,c=-1,u=0,m=0;const f=[];function _(){const a=e[c+1];if(5===u&&"'"===a||6===u&&'"'===a)return c++,l="\\"+a,f[0](),!0}for(f[0]=()=>{void 0===n?n=l:n+=l},f[1]=()=>{void 0!==n&&(a.push(n),n=void 0)},f[2]=()=>{f[0](),m++},f[3]=()=>{if(m>0)m--,u=4,f[0]();else{if(m=0,void 0===n)return!1;if(n=D(n),!1===n)return!1;f[1]()}};null!==u;)if(c++,t=e[c],"\\"!==t||!_()){if(r=M(t),i=W[u],o=i[r]||i.l||8,8===o)return;if(u=o[0],void 0!==o[1]&&(s=f[o[1]],s&&(l=t,!1===s())))return;if(7===u)return a}}(a),t&&C.set(a,t)),!t)return null;const n=t.length;let l=e,r=0;for(;r<n;){const e=l[t[r]];if(void 0===e)return null;l=e,r++}return l},q=x;export{Ve as DatetimeFormat,xe as I18nInjectionKey,je as NumberFormat,$e as Translation,de as VERSION,Ye as castToVueI18n,Ge as createI18n,Be as useI18n};
